(()=>{"use strict";var t={371:(t,e,n)=>{t.exports=n.p+"f2d1139d66863576ff69.wasm"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}let r;n.m=t,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=r[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href;const i="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&i.decode();let o=null;function a(){return null!==o&&0!==o.byteLength||(o=new Uint8Array(r.memory.buffer)),o}function s(t,e){return t>>>=0,i.decode(a().subarray(t,t+e))}let _=0;const c="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},l="function"==typeof c.encodeInto?function(t,e){return c.encodeInto(t,e)}:function(t,e){const n=c.encode(t);return e.set(n),{read:t.length,written:n.length}};function g(t,e,n){if(void 0===n){const n=c.encode(t),r=e(n.length,1)>>>0;return a().subarray(r,r+n.length).set(n),_=n.length,r}let r=t.length,i=e(r,1)>>>0;const o=a();let s=0;for(;s<r;s++){const e=t.charCodeAt(s);if(e>127)break;o[i+s]=e}if(s!==r){0!==s&&(t=t.slice(s)),i=n(i,r,r=s+3*t.length,1)>>>0;const e=a().subarray(i+s,i+r);s+=l(t,e).written,i=n(i,r,s,1)>>>0}return _=s,i}let u=null;let d=null;let p=null;const f="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_cartitem_free(t>>>0,1));class b{static __wrap(t){t>>>=0;const e=Object.create(b.prototype);return e.__wbg_ptr=t,f.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,f.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_cartitem_free(t,0)}static new(t,e,n,i){const o=g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),a=_,s=r.cartitem_new(t,o,a,n,i);return b.__wrap(s)}get_id(){return r.cartitem_get_id(this.__wbg_ptr)>>>0}get_name(){let t,e;try{const n=r.cartitem_get_name(this.__wbg_ptr);return t=n[0],e=n[1],s(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get_price(){return r.cartitem_get_price(this.__wbg_ptr)}get_quantity(){return r.cartitem_get_quantity(this.__wbg_ptr)>>>0}}const w="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_gogame_free(t>>>0,1));class h{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_gogame_free(t,0)}constructor(){const t=r.gogame_new();return this.__wbg_ptr=t>>>0,w.register(this,this.__wbg_ptr,this),this}place_stone(t,e){const n=r.gogame_place_stone(this.__wbg_ptr,t,e);if(n[2])throw function(t){const e=r.__wbindgen_export_0.get(t);return r.__externref_table_dealloc(t),e}(n[1]);return 0!==n[0]}pass(){r.gogame_pass(this.__wbg_ptr)}is_game_over(){return 0!==r.gogame_is_game_over(this.__wbg_ptr)}get_board(){const t=r.gogame_get_board(this.__wbg_ptr);var e,n,i=(e=t[0],n=t[1],e>>>=0,(null!==d&&0!==d.byteLength||(d=new Int32Array(r.memory.buffer)),d).subarray(e/4,e/4+n)).slice();return r.__wbindgen_free(t[0],4*t[1],4),i}get_current_player(){return r.gogame_get_current_player(this.__wbg_ptr)}get_captures(){const t=r.gogame_get_captures(this.__wbg_ptr);var e,n,i=(e=t[0],n=t[1],e>>>=0,(null!==p&&0!==p.byteLength||(p=new Uint32Array(r.memory.buffer)),p).subarray(e/4,e/4+n)).slice();return r.__wbindgen_free(t[0],4*t[1],4),i}}const m="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_shoppingcart_free(t>>>0,1));class y{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,m.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_shoppingcart_free(t,0)}constructor(){const t=r.shoppingcart_new();return this.__wbg_ptr=t>>>0,m.register(this,this.__wbg_ptr,this),this}add_item(t,e,n,i){const o=g(e,r.__wbindgen_malloc,r.__wbindgen_realloc),a=_;r.shoppingcart_add_item(this.__wbg_ptr,t,o,a,n,i)}get_total(){return r.shoppingcart_get_total(this.__wbg_ptr)}get_items(){const t=r.shoppingcart_get_items(this.__wbg_ptr);var e=function(t,e){t>>>=0;const n=((null===u||!0===u.buffer.detached||void 0===u.buffer.detached&&u.buffer!==r.memory.buffer)&&(u=new DataView(r.memory.buffer)),u),i=[];for(let o=t;o<t+4*e;o+=4)i.push(r.__wbindgen_export_0.get(n.getUint32(o,!0)));return r.__externref_drop_slice(t,e),i}(t[0],t[1]).slice();return r.__wbindgen_free(t[0],4*t[1],4),e}}async function v(t){if(void 0!==r)return r;void 0!==t&&(Object.getPrototypeOf(t)===Object.prototype?({module_or_path:t}=t):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===t&&(t=new URL(n(371),n.b));const e=function(){const t={wbg:{}};return t.wbg.__wbg_cartitem_new=function(t){return b.__wrap(t)},t.wbg.__wbindgen_init_externref_table=function(){const t=r.__wbindgen_export_0,e=t.grow(4);t.set(0,void 0),t.set(e+0,void 0),t.set(e+1,null),t.set(e+2,!0),t.set(e+3,!1)},t.wbg.__wbindgen_string_new=function(t,e){return s(t,e)},t.wbg.__wbindgen_throw=function(t,e){throw new Error(s(t,e))},t}();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:i,module:a}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await t,e);return function(t,e){return r=t.exports,v.__wbindgen_wasm_module=e,u=null,d=null,p=null,o=null,r.__wbindgen_start(),r}(i,a)}const x=v;!async function(){await x();const t=new y,e=document.getElementById("products"),n=document.getElementById("cart-items"),r=document.getElementById("cart-total");[{id:1,name:"Go Board (9x9)",price:29.99},{id:2,name:"Go Stones Set",price:15.99},{id:3,name:"Go Strategy Book",price:19.99}].forEach(i=>{const o=document.createElement("div");o.className="product",o.innerHTML=`${i.name} - $${i.price} <button>Add to Cart</button>`,o.querySelector("button").addEventListener("click",()=>{t.add_item(i.id,i.name,i.price,1),n.innerHTML="",t.get_items().forEach(t=>{const e=document.createElement("div");e.className="cart-item",e.innerText=`${t.get_name()} - $${t.get_price()} x ${t.get_quantity()}`,n.appendChild(e)}),r.innerText=t.get_total().toFixed(2)}),e.appendChild(o)});const i=new h,o=document.getElementById("go-board"),a=o.getContext("2d"),s=50;function _(){a.clearRect(0,0,o.width,o.height),a.fillStyle="#dcbb76",a.fillRect(0,0,o.width,o.height),a.strokeStyle="black",a.lineWidth=1;for(let t=0;t<9;t++)a.beginPath(),a.moveTo(t*s+25,25),a.lineTo(t*s+25,o.height-25),a.stroke(),a.beginPath(),a.moveTo(25,t*s+25),a.lineTo(o.width-25,t*s+25),a.stroke();a.fillStyle="black",[[2,2],[2,6],[6,2],[6,6],[4,4]].forEach(([t,e])=>{a.beginPath(),a.arc(e*s+25,t*s+25,4,0,2*Math.PI),a.fill()});const t=i.get_board();for(let e=0;e<9;e++)for(let n=0;n<9;n++){const r=t[9*e+n];1===r?(a.fillStyle="black",a.beginPath(),a.arc(n*s+25,e*s+25,20,0,2*Math.PI),a.fill()):2===r&&(a.fillStyle="white",a.beginPath(),a.arc(n*s+25,e*s+25,20,0,2*Math.PI),a.fill(),a.strokeStyle="black",a.stroke())}}function c(){const t=1===i.get_current_player()?"Black":"White";document.getElementById("current-player").innerText=t;const[e,n]=i.get_captures();document.getElementById("black-captures").innerText=e,document.getElementById("white-captures").innerText=n,i.is_game_over()?document.getElementById("game-status").innerText=`Game Over! Black Captures: ${e}, White Captures: ${n}`:document.getElementById("game-status").innerText=""}o.addEventListener("click",t=>{const e=o.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top,a=Math.floor(n/s),l=Math.floor(r/s);try{i.place_stone(l,a)&&(_(),c())}catch(t){document.getElementById("game-status").innerText=t}}),document.getElementById("pass-button").addEventListener("click",()=>{i.pass(),c()}),_(),c()}()})();